<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>lab-1</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="Lab 1_files/libs/clipboard/clipboard.min.js"></script>
<script src="Lab 1_files/libs/quarto-html/quarto.js"></script>
<script src="Lab 1_files/libs/quarto-html/popper.min.js"></script>
<script src="Lab 1_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="Lab 1_files/libs/quarto-html/anchor.min.js"></script>
<link href="Lab 1_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="Lab 1_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="Lab 1_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="Lab 1_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="Lab 1_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">


</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">



<p><strong>Task 1</strong> 1. The asthetics include the GDP per person on the x-axis (income), the average life expectancy in years on the y-axis, income levels 1 through 4, individual countries represented by each bubble, the color of each bubble represents a world region, and total population represented as the bubble size. The geometry for the graph is a bubble chart.</p>
<div class="cell" data-execution_count="1">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-scrolled="true" data-execution_count="2">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>df1 <span class="op">=</span> pd.read_csv(<span class="st">"C:</span><span class="ch">\\</span><span class="st">Users</span><span class="ch">\\</span><span class="st">Tyler Clyde</span><span class="ch">\\</span><span class="st">Documents</span><span class="ch">\\</span><span class="st">GSB 544</span><span class="ch">\\</span><span class="st">q1data.csv"</span>)</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> plotnine <span class="im">as</span> pn</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(df1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      income  life_exp  population  year      country four_regions  \
0     1910.0      61.0  29200000.0  2010  Afghanistan         asia   
1    11100.0      78.1   2950000.0  2010      Albania       europe   
2    11100.0      74.7  36000000.0  2010      Algeria       africa   
3    46900.0      81.9     84500.0  2010      Andorra       europe   
4     7680.0      60.8  23400000.0  2010       Angola       africa   
..       ...       ...         ...   ...          ...          ...   
192  20400.0      75.4  28400000.0  2010    Venezuela     americas   
193   5350.0      73.3  88000000.0  2010      Vietnam         asia   
194   4700.0      67.8  23200000.0  2010        Yemen         asia   
195   3200.0      57.5  13600000.0  2010       Zambia       africa   
196   2560.0      54.4  12700000.0  2010     Zimbabwe       africa   

                  six_regions       eight_regions           world_bank_region  
0                  south_asia           asia_west                  South Asia  
1         europe_central_asia         europe_east       Europe &amp; Central Asia  
2    middle_east_north_africa        africa_north  Middle East &amp; North Africa  
3         europe_central_asia         europe_west       Europe &amp; Central Asia  
4          sub_saharan_africa  africa_sub_saharan          Sub-Saharan Africa  
..                        ...                 ...                         ...  
192                   america       america_south   Latin America &amp; Caribbean  
193         east_asia_pacific   east_asia_pacific         East Asia &amp; Pacific  
194  middle_east_north_africa           asia_west  Middle East &amp; North Africa  
195        sub_saharan_africa  africa_sub_saharan          Sub-Saharan Africa  
196        sub_saharan_africa  africa_sub_saharan          Sub-Saharan Africa  

[197 rows x 9 columns]</code></pre>
</div>
</div>
<div class="cell" data-tags="[]" data-execution_count="4">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co">#3.</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>yvalues <span class="op">=</span> [<span class="dv">20</span>,<span class="dv">30</span>,<span class="dv">40</span>,<span class="dv">50</span>,<span class="dv">60</span>,<span class="dv">70</span>,<span class="dv">80</span>,<span class="dv">90</span>]</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>(pn.ggplot(df1.dropna(subset<span class="op">=</span>[<span class="st">'four_regions'</span>]), pn.aes(x<span class="op">=</span><span class="st">'income'</span>, y<span class="op">=</span><span class="st">'life_exp'</span>, size<span class="op">=</span><span class="st">'population'</span>, fill <span class="op">=</span> <span class="st">"four_regions"</span> )) <span class="op">+</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>    pn.geom_text(x<span class="op">=</span>np.log10(<span class="dv">8000</span>), y<span class="op">=</span><span class="dv">55</span>, label<span class="op">=</span><span class="st">'2010'</span>, size<span class="op">=</span><span class="dv">100</span>, color<span class="op">=</span><span class="st">'lightgrey'</span>, alpha<span class="op">=</span><span class="fl">0.5</span>) <span class="op">+</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>    pn.geom_point() <span class="op">+</span></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>    pn.scale_x_log10(breaks<span class="op">=</span>[<span class="dv">500</span>,<span class="dv">1000</span>,<span class="dv">2000</span>,<span class="dv">4000</span>,<span class="dv">8000</span>,<span class="dv">16000</span>,<span class="dv">32000</span>,<span class="dv">64000</span>]) <span class="op">+</span></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>    pn.scale_size_continuous(guide<span class="op">=</span><span class="va">False</span>) <span class="op">+</span></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>    pn.labs(title<span class="op">=</span><span class="st">''</span>, x<span class="op">=</span><span class="st">'Income'</span>, y<span class="op">=</span><span class="st">'Life Expectancy'</span>) <span class="op">+</span></span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>    pn.scale_y_continuous(limits<span class="op">=</span>(<span class="dv">15</span>, <span class="dv">90</span>), breaks<span class="op">=</span>yvalues) <span class="op">+</span></span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a>    pn.geom_text(x<span class="op">=</span>np.log10(<span class="dv">1000</span>), y<span class="op">=</span><span class="dv">90</span>, label<span class="op">=</span><span class="st">"Income Level 1"</span>, size<span class="op">=</span><span class="dv">10</span>, color<span class="op">=</span><span class="st">'grey'</span>, alpha<span class="op">=</span><span class="fl">0.01</span>) <span class="op">+</span></span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a>    pn.geom_text(x<span class="op">=</span>np.log10(<span class="dv">4000</span>), y<span class="op">=</span><span class="dv">90</span>, label<span class="op">=</span><span class="st">"Level 2"</span>, size<span class="op">=</span><span class="dv">10</span>, color<span class="op">=</span><span class="st">'grey'</span>, alpha<span class="op">=</span><span class="fl">0.01</span>) <span class="op">+</span></span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a>    pn.geom_text(x<span class="op">=</span>np.log10(<span class="dv">16000</span>), y<span class="op">=</span><span class="dv">90</span>, label<span class="op">=</span><span class="st">"Level 3"</span>, size<span class="op">=</span><span class="dv">10</span>, color<span class="op">=</span><span class="st">'grey'</span>, alpha<span class="op">=</span><span class="fl">0.01</span>) <span class="op">+</span></span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a>    pn.geom_text(x<span class="op">=</span>np.log10(<span class="dv">64000</span>), y<span class="op">=</span><span class="dv">90</span>, label<span class="op">=</span><span class="st">"Level 4"</span>, size<span class="op">=</span><span class="dv">10</span>, color<span class="op">=</span><span class="st">'grey'</span>, alpha<span class="op">=</span><span class="fl">0.01</span>) <span class="op">+</span></span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a>    pn.scale_fill_manual(values<span class="op">=</span>[<span class="st">'mediumturquoise'</span>, <span class="st">'lime'</span>, <span class="st">'tomato'</span>, <span class="st">'gold'</span>]) <span class="op">+</span></span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a>    pn.theme(panel_background<span class="op">=</span>pn.element_rect(fill<span class="op">=</span><span class="st">'white'</span>),</span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true" tabindex="-1"></a>           panel_grid_major<span class="op">=</span>pn.element_line(color<span class="op">=</span><span class="st">'gray'</span>, size<span class="op">=</span><span class="fl">0.1</span>),</span>
<span id="cb4-17"><a href="#cb4-17" aria-hidden="true" tabindex="-1"></a>           panel_grid_minor<span class="op">=</span>pn.element_line(color<span class="op">=</span><span class="st">'gray'</span>, size<span class="op">=</span><span class="fl">0.05</span>),</span>
<span id="cb4-18"><a href="#cb4-18" aria-hidden="true" tabindex="-1"></a>           strip_background<span class="op">=</span>pn.element_rect(fill<span class="op">=</span><span class="st">'lightgray'</span>, color<span class="op">=</span><span class="st">'gray'</span>))</span>
<span id="cb4-19"><a href="#cb4-19" aria-hidden="true" tabindex="-1"></a>).draw()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>C:\Users\Tyler Clyde\AppData\Roaming\Python\Python311\site-packages\plotnine\layer.py:364: PlotnineWarning: geom_point : Removed 2 rows containing missing values.</code></pre>
</div>
<div class="cell-output cell-output-display" data-execution_count="4">
<p><img src="Lab%201_files/figure-html/cell-4-output-2.png" class="img-fluid"></p>
</div>
</div>
<ol start="4" type="1">
<li>I chose to try and represent the data using boxplots. The boxplots were created by having income represent the width of the boxes and life_exp represent the hight values. Although the x values represent the range of income countries have, it does not make much sense when comparing it to the y axis since it is a boxplot. The plots are also separated by each of the four regions. The reason that these plots are not as useful is because they lack detail that is included in the bubble plot. For one, population cannot be shown hear without removing another variable. Also, you cannot tell where the individual countries reside when determining income and life exp.</li>
</ol>
<div class="cell" data-execution_count="209">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>(pn.ggplot(df1.dropna(subset<span class="op">=</span>[<span class="st">'four_regions'</span>]),</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>pn.aes(</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>  x <span class="op">=</span> <span class="st">"income"</span>,</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>  y <span class="op">=</span> <span class="st">"life_exp"</span>,</span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>))</span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a><span class="op">+</span> pn.geom_boxplot()</span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a><span class="op">+</span> pn.facet_wrap(<span class="st">"four_regions"</span>)</span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="Lab%201_files/figure-html/cell-5-output-1.png" class="img-fluid"></p>
</div>
<div class="cell-output cell-output-display" data-execution_count="209">
<pre><code>&lt;Figure Size: (640 x 480)&gt;</code></pre>
</div>
</div>
<p><strong>Task 2</strong> 1. For the graph, the aesthetics include the y axis which is the volume of imports as a percentage of GDP, the x axis which is the volume of exports as a percentage of GDP, the year the data represents which is 1997, each point represents a specific country, the color fill which represents the four regions, and the size of the bubbles which represents the total energy use of the country. The geometry of the graph is a bubble chart.</p>
<div class="cell" data-execution_count="6">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>df2 <span class="op">=</span> pd.read_csv(<span class="st">"C:</span><span class="ch">\\</span><span class="st">Users</span><span class="ch">\\</span><span class="st">Tyler Clyde</span><span class="ch">\\</span><span class="st">Documents</span><span class="ch">\\</span><span class="st">GSB 544</span><span class="ch">\\</span><span class="st">q2data.csv"</span>)</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(df2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     imports  exports energy  year                country four_regions  \
0        NaN      NaN    NaN  1997            Afghanistan         asia   
1       36.7     11.5    427  1997                Albania       europe   
2       22.5     22.6    825  1997                Algeria       africa   
3        NaN      NaN    NaN  1997         American Samoa          NaN   
4        NaN      NaN    434  1997                 Angola       africa   
..       ...      ...    ...   ...                    ...          ...   
201     52.2     44.8    340  1997                Vietnam         asia   
202      NaN      NaN    NaN  1997  Virgin Islands (U.S.)          NaN   
203      NaN      NaN    241  1997                  Yemen          NaN   
204     31.6     24.6    617  1997                 Zambia       africa   
205     45.1     43.4    845  1997               Zimbabwe       africa   

                  six_regions       eight_regions           world_bank_region  
0                  south_asia           asia_west                  South Asia  
1         europe_central_asia         europe_east       Europe &amp; Central Asia  
2    middle_east_north_africa        africa_north  Middle East &amp; North Africa  
3                         NaN                 NaN                         NaN  
4          sub_saharan_africa  africa_sub_saharan          Sub-Saharan Africa  
..                        ...                 ...                         ...  
201         east_asia_pacific   east_asia_pacific         East Asia &amp; Pacific  
202                       NaN                 NaN                         NaN  
203                       NaN                 NaN                         NaN  
204        sub_saharan_africa  africa_sub_saharan          Sub-Saharan Africa  
205        sub_saharan_africa  africa_sub_saharan          Sub-Saharan Africa  

[206 rows x 9 columns]</code></pre>
</div>
</div>
<div class="cell" data-execution_count="7">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co">#3.</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>(pn.ggplot(df2.dropna(subset<span class="op">=</span>[<span class="st">'four_regions'</span>]), pn.aes(x<span class="op">=</span><span class="st">'exports'</span>, y<span class="op">=</span><span class="st">'imports'</span>, size<span class="op">=</span><span class="st">'energy'</span>, fill <span class="op">=</span> <span class="st">"four_regions"</span>)) <span class="op">+</span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>    pn.geom_text(x<span class="op">=</span><span class="dv">120</span>, y<span class="op">=</span><span class="dv">250</span>, label<span class="op">=</span><span class="st">'1997'</span>, size<span class="op">=</span><span class="dv">100</span>, color<span class="op">=</span><span class="st">'lightgrey'</span>, alpha<span class="op">=</span><span class="fl">0.5</span>) <span class="op">+</span></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>    pn.geom_point() <span class="op">+</span></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>    pn.scale_size_discrete(guide<span class="op">=</span><span class="va">False</span>) <span class="op">+</span></span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>    pn.labs(title<span class="op">=</span><span class="st">''</span>, x<span class="op">=</span><span class="st">'Exports(\</span><span class="sc">% o</span><span class="st">f GDP)'</span>, y<span class="op">=</span><span class="st">'Imports(\</span><span class="sc">% o</span><span class="st">f GDP)'</span>) <span class="op">+</span></span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>    pn.scale_y_continuous(limits<span class="op">=</span>(<span class="dv">0</span>,<span class="dv">400</span>), breaks<span class="op">=</span>[<span class="dv">50</span>,<span class="dv">100</span>,<span class="dv">150</span>,<span class="dv">200</span>,<span class="dv">250</span>,<span class="dv">300</span>,<span class="dv">350</span>,<span class="dv">400</span>]) <span class="op">+</span></span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>    pn.scale_x_continuous(limits<span class="op">=</span>(<span class="dv">0</span>,<span class="dv">230</span>), breaks<span class="op">=</span>[<span class="dv">20</span>,<span class="dv">40</span>,<span class="dv">60</span>,<span class="dv">80</span>,<span class="dv">100</span>,<span class="dv">120</span>,<span class="dv">140</span>,<span class="dv">160</span>,<span class="dv">180</span>,<span class="dv">200</span>,<span class="dv">220</span>]) <span class="op">+</span></span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a>    pn.scale_fill_manual(values<span class="op">=</span>[<span class="st">'mediumturquoise'</span>, <span class="st">'lime'</span>, <span class="st">'tomato'</span>, <span class="st">'gold'</span>]) <span class="op">+</span></span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a>    pn.theme(panel_background<span class="op">=</span>pn.element_rect(fill<span class="op">=</span><span class="st">'white'</span>),</span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a>           panel_grid_major<span class="op">=</span>pn.element_line(color<span class="op">=</span><span class="st">'gray'</span>, size<span class="op">=</span><span class="fl">0.1</span>),</span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a>           panel_grid_minor<span class="op">=</span>pn.element_line(color<span class="op">=</span><span class="st">'gray'</span>, size<span class="op">=</span><span class="fl">0.05</span>),</span>
<span id="cb10-13"><a href="#cb10-13" aria-hidden="true" tabindex="-1"></a>           strip_background<span class="op">=</span>pn.element_rect(fill<span class="op">=</span><span class="st">'lightgray'</span>, color<span class="op">=</span><span class="st">'gray'</span>))</span>
<span id="cb10-14"><a href="#cb10-14" aria-hidden="true" tabindex="-1"></a>).draw()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>C:\Users\Tyler Clyde\AppData\Roaming\Python\Python311\site-packages\plotnine\scales\scale_size.py:49: PlotnineWarning: Using size for a discrete variable is not advised.
C:\Users\Tyler Clyde\AppData\Roaming\Python\Python311\site-packages\plotnine\layer.py:364: PlotnineWarning: geom_point : Removed 55 rows containing missing values.</code></pre>
</div>
<div class="cell-output cell-output-display" data-execution_count="7">
<p><img src="Lab%201_files/figure-html/cell-7-output-2.png" class="img-fluid"></p>
</div>
</div>
<ol start="4" type="1">
<li>For this graph, I used a 2d desity plot with data points because I believe it is the best alternative to the original bubble graph. The graph shows four different circles that represent each of the four regions. These show the density of the datapoints which represents where the majority of data points reside for each region. However, the individual data points also vary in size which represents the energy level for each country plotted. This way, every variable can be displayed from the original bubble plot.</li>
</ol>
<div class="cell" data-execution_count="200">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>(pn.ggplot(df2.dropna(subset<span class="op">=</span>[<span class="st">'four_regions'</span>]),</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>pn.aes(</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>  x <span class="op">=</span> <span class="st">"exports"</span>,</span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>  y <span class="op">=</span> <span class="st">"imports"</span>,</span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>    color <span class="op">=</span> <span class="st">"four_regions"</span></span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a>))</span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a> <span class="op">+</span>pn.geom_point(pn.aes(size <span class="op">=</span> <span class="st">"energy"</span>))</span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a><span class="op">+</span> pn.geom_density_2d()</span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a> <span class="op">+</span>pn.scale_size_discrete(guide<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a> <span class="op">+</span>pn.labs(title<span class="op">=</span><span class="st">'2d Density Plot'</span>, x<span class="op">=</span><span class="st">'Exports(\</span><span class="sc">% o</span><span class="st">f GDP)'</span>, y<span class="op">=</span><span class="st">'Imports(\</span><span class="sc">% o</span><span class="st">f GDP)'</span>)</span>
<span id="cb12-11"><a href="#cb12-11" aria-hidden="true" tabindex="-1"></a> <span class="op">+</span>pn.theme(panel_background<span class="op">=</span>pn.element_rect(fill<span class="op">=</span><span class="st">'whitesmoke'</span>))</span>
<span id="cb12-12"><a href="#cb12-12" aria-hidden="true" tabindex="-1"></a> <span class="op">+</span>pn.scale_color_manual(values<span class="op">=</span>[<span class="st">'mediumturquoise'</span>, <span class="st">'forestgreen'</span>, <span class="st">'tomato'</span>, <span class="st">'gold'</span>])</span>
<span id="cb12-13"><a href="#cb12-13" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>C:\Users\Tyler Clyde\AppData\Roaming\Python\Python311\site-packages\plotnine\scales\scale_size.py:49: PlotnineWarning: Using size for a discrete variable is not advised.
C:\Users\Tyler Clyde\AppData\Roaming\Python\Python311\site-packages\plotnine\layer.py:284: PlotnineWarning: stat_density_2d : Removed 19 rows containing non-finite values.
C:\Users\Tyler Clyde\AppData\Roaming\Python\Python311\site-packages\plotnine\layer.py:364: PlotnineWarning: geom_point : Removed 55 rows containing missing values.</code></pre>
</div>
<div class="cell-output cell-output-display">
<p><img src="Lab%201_files/figure-html/cell-8-output-2.png" class="img-fluid"></p>
</div>
<div class="cell-output cell-output-display" data-execution_count="200">
<pre><code>&lt;Figure Size: (640 x 480)&gt;</code></pre>
</div>
</div>
<p><strong>Task 3</strong> 1. The aesthetics in this graph include the y axis which represents the GDP per capida for each data point, the x axis values which represent the number of internet users for each point, the data point sizes which represents the income, each point represents a country, the year label which is 2001, and the point colors which are each of the four regions. The graph geometry is a bubble chart.</p>
<div class="cell" data-execution_count="8">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>df3 <span class="op">=</span> pd.read_csv(<span class="st">"C:</span><span class="ch">\\</span><span class="st">Users</span><span class="ch">\\</span><span class="st">Tyler Clyde</span><span class="ch">\\</span><span class="st">Documents</span><span class="ch">\\</span><span class="st">GSB 544</span><span class="ch">\\</span><span class="st">q3data.csv"</span>)</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(df3)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     internet_users      gdp   income  year                country  \
0           0.00456    330.0   1190.0  2001            Afghanistan   
1           0.39000   2570.0   6780.0  2001                Albania   
2           1.59000   3770.0   9230.0  2001                Algeria   
3               NaN  10500.0      NaN  2001         American Samoa   
4          11.30000  42600.0  35600.0  2001                Andorra   
..              ...      ...      ...   ...                    ...   
210         1.85000    847.0   3270.0  2001                Vietnam   
211        27.50000  36700.0      NaN  2001  Virgin Islands (U.S.)   
212         0.51900   1190.0   4940.0  2001                  Yemen   
213         0.47800    991.0   2080.0  2001                 Zambia   
214         1.10000   1330.0   3190.0  2001               Zimbabwe   

    four_regions               six_regions       eight_regions  \
0           asia                south_asia           asia_west   
1         europe       europe_central_asia         europe_east   
2         africa  middle_east_north_africa        africa_north   
3            NaN                       NaN                 NaN   
4         europe       europe_central_asia         europe_west   
..           ...                       ...                 ...   
210         asia         east_asia_pacific   east_asia_pacific   
211          NaN                       NaN                 NaN   
212         asia  middle_east_north_africa           asia_west   
213       africa        sub_saharan_africa  africa_sub_saharan   
214       africa        sub_saharan_africa  africa_sub_saharan   

              world_bank_region  
0                    South Asia  
1         Europe &amp; Central Asia  
2    Middle East &amp; North Africa  
3                           NaN  
4         Europe &amp; Central Asia  
..                          ...  
210         East Asia &amp; Pacific  
211                         NaN  
212  Middle East &amp; North Africa  
213          Sub-Saharan Africa  
214          Sub-Saharan Africa  

[215 rows x 9 columns]</code></pre>
</div>
</div>
<div class="cell" data-execution_count="9">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="co">#3.</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>(pn.ggplot(df3.dropna(subset<span class="op">=</span>[<span class="st">'four_regions'</span>]), pn.aes(x<span class="op">=</span><span class="st">'internet_users'</span>, y<span class="op">=</span><span class="st">'gdp'</span>, size<span class="op">=</span><span class="st">'income'</span>, fill <span class="op">=</span> <span class="st">"four_regions"</span>)) <span class="op">+</span></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>    pn.geom_text(x<span class="op">=</span><span class="dv">50</span>, y<span class="op">=</span>np.log10(<span class="dv">5000</span>), label<span class="op">=</span><span class="st">'2001'</span>, size<span class="op">=</span><span class="dv">100</span>, color<span class="op">=</span><span class="st">'lightgrey'</span>, alpha<span class="op">=</span><span class="fl">0.5</span>) <span class="op">+</span></span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>    pn.geom_point() <span class="op">+</span></span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>    pn.scale_y_log10(breaks<span class="op">=</span>[<span class="dv">200</span>,<span class="dv">500</span>,<span class="dv">1000</span>,<span class="dv">2000</span>,<span class="dv">5000</span>,<span class="dv">10000</span>,<span class="dv">20000</span>,<span class="dv">50000</span>,<span class="dv">100000</span>]) <span class="op">+</span></span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a>    pn.scale_size_continuous(guide<span class="op">=</span><span class="va">False</span>) <span class="op">+</span></span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a>    pn.labs(title<span class="op">=</span><span class="st">''</span>, x<span class="op">=</span><span class="st">'Individuals using the Internet'</span>, y<span class="op">=</span><span class="st">'GDP/capita'</span>) <span class="op">+</span></span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a>    pn.scale_x_continuous(limits<span class="op">=</span>(<span class="dv">0</span>,<span class="dv">100</span>), breaks<span class="op">=</span>[<span class="dv">10</span>,<span class="dv">20</span>,<span class="dv">30</span>,<span class="dv">40</span>,<span class="dv">50</span>,<span class="dv">60</span>,<span class="dv">70</span>,<span class="dv">80</span>,<span class="dv">90</span>]) <span class="op">+</span></span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a>    pn.scale_fill_manual(values<span class="op">=</span>[<span class="st">'mediumturquoise'</span>, <span class="st">'lime'</span>, <span class="st">'tomato'</span>, <span class="st">'gold'</span>]) <span class="op">+</span></span>
<span id="cb17-10"><a href="#cb17-10" aria-hidden="true" tabindex="-1"></a>    pn.theme(panel_background<span class="op">=</span>pn.element_rect(fill<span class="op">=</span><span class="st">'white'</span>),</span>
<span id="cb17-11"><a href="#cb17-11" aria-hidden="true" tabindex="-1"></a>           panel_grid_major<span class="op">=</span>pn.element_line(color<span class="op">=</span><span class="st">'gray'</span>, size<span class="op">=</span><span class="fl">0.1</span>),</span>
<span id="cb17-12"><a href="#cb17-12" aria-hidden="true" tabindex="-1"></a>           panel_grid_minor<span class="op">=</span>pn.element_line(color<span class="op">=</span><span class="st">'gray'</span>, size<span class="op">=</span><span class="fl">0.05</span>),</span>
<span id="cb17-13"><a href="#cb17-13" aria-hidden="true" tabindex="-1"></a>           strip_background<span class="op">=</span>pn.element_rect(fill<span class="op">=</span><span class="st">'lightgray'</span>, color<span class="op">=</span><span class="st">'gray'</span>))</span>
<span id="cb17-14"><a href="#cb17-14" aria-hidden="true" tabindex="-1"></a>).draw()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>C:\Users\Tyler Clyde\AppData\Roaming\Python\Python311\site-packages\plotnine\layer.py:364: PlotnineWarning: geom_point : Removed 12 rows containing missing values.</code></pre>
</div>
<div class="cell-output cell-output-display" data-execution_count="9">
<p><img src="Lab%201_files/figure-html/cell-10-output-2.png" class="img-fluid"></p>
</div>
</div>
<ol start="4" type="1">
<li>I tried here to use the data to see how a violin plot might represent it. This plot shows a step up from the boxplot since we can see how the densities fluctuate for individuals using the internet over the different regions. However, like the boxplot, this graph does not represent income like the bubble chart does through its bubble size. Also, we cannot see each country’s data point like in the scatter plot. Overall, the best options are the bubble chart or the density plot.</li>
</ol>
<div class="cell" data-execution_count="269">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>(pn.ggplot(df3.dropna(subset<span class="op">=</span>[<span class="st">'four_regions'</span>]), pn.aes(x<span class="op">=</span><span class="st">'internet_users'</span>, y<span class="op">=</span><span class="st">'internet_users'</span>, fill<span class="op">=</span><span class="st">"four_regions"</span>, color <span class="op">=</span> <span class="st">"four_regions"</span>)) <span class="op">+</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>    pn.geom_violin() <span class="op">+</span></span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a> pn.labs(title<span class="op">=</span><span class="st">''</span>, x<span class="op">=</span><span class="st">'Individuals using the Internet'</span>, y<span class="op">=</span><span class="st">'GDP/capita'</span>)</span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>).draw</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>C:\Users\Tyler Clyde\AppData\Roaming\Python\Python311\site-packages\plotnine\layer.py:284: PlotnineWarning: stat_ydensity : Removed 7 rows containing non-finite values.
C:\Users\Tyler Clyde\AppData\Roaming\Python\Python311\site-packages\plotnine\positions\position.py:229: PlotnineWarning: position_dodge requires non-overlapping x intervals</code></pre>
</div>
<div class="cell-output cell-output-display">
<p><img src="Lab%201_files/figure-html/cell-11-output-2.png" class="img-fluid"></p>
</div>
<div class="cell-output cell-output-display" data-execution_count="269">
<pre><code>&lt;bound method ggplot.draw of &lt;Figure Size: (640 x 480)&gt;&gt;</code></pre>
</div>
</div>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>